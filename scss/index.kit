<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="css/menu.css" />
	<link rel="stylesheet" href="css/homepage.css" />
	<script defer type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>
	<title>Prognoz</title>
</head>

<body>
	<!-- @import "../menu.html" -->
	<div class="content">
		<p>
			Lorem ipsum dolor, sit amet consectetur adipisicing elit. Consequuntur quasi sapiente tempore animi exercitationem placeat iste atque ratione, sit nihil, at illum incidunt obcaecati odit temporibus neque? Sint, ratione fugiat.
		</p>
		<p>
			<button id="createButton">Create</button>
		</p>
	</div>
	<!-- @import "../scripts_list.html" -->
	<script src="js/menu.js"></script>
	<script>
		// Initialize Parse
		Parse.initialize("WphVABC1bgkpyacqAEdcrQ4VUmEKJ4nKam1cwrQ4", "MjY8nIJOKaKiW4zqIwPoKjWtQtCiylWJxN8SXKVK"); //PASTE HERE YOUR Back4App APPLICATION ID AND YOUR JavaScript KEY
		Parse.serverURL = "https://parseapi.back4app.com/";

		// Create a new User
		async function createParseUser() {
			// Creates a new Parse "User" object, which is created by default in your Parse app
			let user = new Parse.User();
			// Set the input values to the new "User" object
			user.set("username", document.getElementById("username").value);
			user.set("email", document.getElementById("email").value);
			user.set("password", document.getElementById("password").value);
			try {
				// Call the save method, which returns the saved object if successful
				user = await user.save();
				if (user !== null) {
					// Notify the success by getting the attributes from the "User" object, by using the get method (the id attribute needs to be accessed directly, though)
					alert(
						`New object created with success! ObjectId: ${user.id
						}, ${user.get("username")}`
					);
				}
			} catch (error) {
				alert(`Error: ${error.message}`);
			}
		}

		// Add on click listener to call the create parse user function
		document.getElementById("createButton").addEventListener("click", async function () {
			createParseUser();
		});
	</script>
</body>

</html>